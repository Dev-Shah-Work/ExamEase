<link rel="preconnect" href="https://fonts.googleapis.com" />
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<link
  href="https://fonts.googleapis.com/css2?family=Inter:wght@300&family=Montserrat:ital,wght@1,300&display=swap"
  rel="stylesheet"
/>
<!-- <div id="root" class="d-flex justify-content-center align-items-center">
  <mat-card
    style="padding: 10px; width: 500px; height: 50%; border-radius: 10px"
    *ngIf="!doUpdate"
  >
    <h1 class="heading" style="font-family: 'Kdam Thmor Pro', sans-serif">
      Your Profile Details
    </h1>
    <mat-card-content style="height: 100%">
      <div class="row" style="height: 100%">
        <div class="col-md-10 offset-md-1">
          <table
            class="table"
            style="justify-content: space-evenly; height: 95%"
          >
            <tr style="background-color: lightgray">
              <td>Id</td>
              <td>{{ userInformation.id }}</td>
            </tr>
            <tr>
              <td>First Name</td>
              <td>{{ userInformation.firstname }}</td>
            </tr>
            <tr style="background-color: lightgray">
              <td>Last Name</td>
              <td>{{ userInformation.lastname }}</td>
            </tr>
            <tr>
              <td>Email</td>
              <td>{{ userInformation.email }}</td>
            </tr>
            <tr style="background-color: lightgray">
              <td>Phone Number</td>
              <td>{{ userInformation.phoneNo }}</td>
            </tr>
            <tr>
              <td>Role</td>
              <td>{{ userInformation.role }}</td>
            </tr>
          </table>
        </div>
      </div>
    </mat-card-content>
    <button class="btn btn-primary" (click)="onUpdate()">Update Details</button>
  </mat-card>
  <div
    id="formDiv"
    class="border border-secondary p-3 rounded-4"
    *ngIf="doUpdate"
  >
    <form [formGroup]="reactiveForm" (ngSubmit)="onUpdateDetails()">
      <div class="mb-3">
        <label for="inputfirstname" class="form-label">First Name</label>
        <input
          type="text"
          class="form-control"
          id="inputfirstname"
          aria-describedby="emailHelp"
          formControlName="firstname"
        />
        <small
          *ngIf="
                reactiveForm.get('firstname').errors?.['required'] &&
                reactiveForm.get('firstname').touched
              "
          style="color: red; font-size: small"
          >Firstname is required field</small
        >
        <small
          *ngIf="
                reactiveForm.get('firstname').errors?.['noSpaceAllowed']
              "
          style="color: red; font-size: small"
          >Space not allowed</small
        >
      </div>
      <div class="mb-3">
        <label for="inputlastname" class="form-label">Last Name</label>
        <input
          type="text"
          class="form-control"
          id="inputlastname"
          aria-describedby="emailHelp"
          formControlName="lastname"
        />
      </div>
      <div class="mb-3">
        <label for="inputEmail" class="form-label">Email address</label>
        <input
          type="email"
          class="form-control"
          id="inputEmail"
          aria-describedby="emailHelp"
          formControlName="email"
        />
        <small
          *ngIf="
                reactiveForm.get('email').errors?.['required'] &&
                reactiveForm.get('email').touched
              "
          style="color: red; font-size: small"
          >Email is required field</small
        >
        <small
          *ngIf="
              reactiveForm.get('email').errors?.['email'] &&
              reactiveForm.get('email').touched
            "
          style="color: red; font-size: small"
          >Invalid Email Format</small
        >
      </div>

      <div class="mb-3">
        <label for="inputphoneNo" class="form-label">Phone Number</label>
        <input
          class="form-control"
          id="inputphoneNo"
          formControlName="phoneNo"
        />
        <small
          *ngIf="
              reactiveForm.get('phoneNo').errors?.['noSpaceAllowed']
            "
          style="color: red; font-size: small"
          >Space not allowed</small
        >
        <small
          *ngIf="
            reactiveForm.get('phoneNo').errors?.['maxlength']
          "
          style="color: red; font-size: small"
          >Max length of 10 digit allowed</small
        >
        <small
          *ngIf="
            reactiveForm.get('phoneNo').errors?.['pattern']
          "
          style="color: red; font-size: small"
          >Type 10 digit number</small
        >
      </div>
      <div class="container">
        <div class="d-flex flex-row" style="justify-content: space-between">
          <div class="d-flex flex-row">
            <button
              type="submit"
              class="btn btn-primary"
              [disabled]="reactiveForm.invalid"
            >
              Update Details
            </button>
          </div>
          <div class="d-flex flex-row" style="align-items: center">
            <button class="btn btn-primary" (click)="goBackClicked()">
              Go Back
            </button>
          </div>
        </div>
      </div>
    </form>
  </div>
</div> -->
<ng-container *ngIf="!doUpdate">
  <div
    class="d-flex justify-content-center align-items-center"
    style="height: 92.5vh"
  >
    <div
      class="d-flex justify-content center align-items-center"
      style="height: 75%; width: 75%"
    >
      <div
        class="card container"
        style="
          height: 100%;
          width: 100%;
          box-shadow: rgba(100, 100, 111, 0.2) 0px 7px 29px 0px;
          border-radius: 20px;
        "
      >
        <div class="row" style="margin: 5vh; height: 100%">
          <div
            class="col-3 d-flex flex-column justify-content-evenly align-items-center"
            style="
              box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
              border-radius: 20px;
              padding: 1em;
            "
          >
            <img
              src="https://ui-avatars.com/api/?name={{
                userInformation.firstname
              }}+{{ userInformation.lastname }}"
              alt="Profile Image"
            />
            <h2 class="gradienttext">
              {{ userInformation.firstname }} {{ userInformation.lastname }}
            </h2>
          </div>
          <div class="col-2"></div>
          <div
            class="col-7"
            style="
              box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
              border-radius: 20px;
              padding: 1em;
            "
          >
            <h3 class="gradienttext">
              Profile Details
              <i
                class="fa-regular fa-pen-to-square"
                style="
                  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
                  padding: 3px;
                  border-radius: 10px;
                "
                (click)="onUpdate()"
              ></i>
            </h3>
            <table class="container">
              <tr class="row">
                <td class="col-3">Name:</td>
                <td class="col-9">
                  {{ userInformation.firstname }} {{ userInformation.lastname }}
                </td>
              </tr>

              <tr class="row">
                <td class="col-3">Role :</td>
                <td class="col-6">{{ userInformation.role }}</td>
              </tr>
              <tr class="row">
                <td class="col-3">Mobile :</td>
                <td class="col-6">+91 {{ userInformation.phoneNo }}</td>
              </tr>
              <tr class="row">
                <td class="col-3">Email :</td>
                <td class="col-6">{{ userInformation.email }}</td>
              </tr>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-container>
<ng-container *ngIf="doUpdate">
  <div
    class="d-flex justify-content-center align-items-center"
    style="height: 92.5vh"
  >
    <div
      class="d-flex justify-content center align-items-center"
      style="height: 75%; width: 75%"
    >
      <div
        class="card container"
        style="
          height: 100%;
          width: 100%;
          box-shadow: rgba(100, 100, 111, 0.2) 0px 7px 29px 0px;
          border-radius: 20px;
        "
      >
        <div class="row" style="margin: 5vh; height: 100%">
          <div
            class="col-3 d-flex flex-column justify-content-evenly align-items-center"
            style="
              box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
              border-radius: 20px;
              padding: 1em;
            "
          >
            <img
              src="https://ui-avatars.com/api/?name={{
                userInformation.firstname
              }}+{{ userInformation.lastname }}"
              alt="Profile Image"
            />
            <h2 class="gradienttext">
              {{ userInformation.firstname }} {{ userInformation.lastname }}
            </h2>
          </div>
          <div class="col-2"></div>

          <div
            class="col-7"
            style="
              box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
              border-radius: 20px;
              padding: 1em;
            "
          >
            <form
              [formGroup]="reactiveForm"
              (ngSubmit)="onUpdateDetails()"
              class="d-flex flex-column align-items-center justify-content-evenly"
            >
              <h3 class="gradienttext">
                <i
                  class="fa-solid fa-arrow-left"
                  style="
                    box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
                    padding: 3px;
                    border-radius: 10px;
                  "
                  (click)="goBackClicked()"
                ></i>
                Update Details  
              </h3>
              <table class="container">
                <tr class="row">
                  <td class="col-3">First Name:</td>
                  <td class="col-9">
                    <input
                      class="col-9"
                      type="text"
                      matInput
                      formControlName="firstname"
                    />
                  </td>
                </tr>
                <tr class="row">
                  <td class="col-3">Last Name:</td>
                  <td class="col-9">
                    <input
                      class="col-9"
                      type="text"
                      matInput
                      formControlName="lastname"
                    />
                  </td>
                </tr>
                <tr class="row">
                  <td class="col-3">Mobile :</td>
                  <td class="col-9">
                    <input
                      class="col-9"
                      type="number"
                      matInput
                      formControlName="phoneNo"
                    />
                  </td>
                </tr>
                <tr class="row">
                  <td class="col-3">Email :</td>
                  <td class="col-9">
                    <input
                      class="col-9"
                      type="email"
                      matInput
                      formControlName="email"
                    />
                  </td>
                </tr>
                <tr class="d-flex flex-column" style="width: 100%;">
                  <button
                    class="gradienttext align-self-center "
                    type="submit"
                    style="background-color: lightgray;width: 100%;"
                    [disabled]="reactiveForm.invalid"
                    style="
                      padding: 1rem;
                      border: 1px solid gray;
                      border-radius: 20px;
                      font-size: large;
                    "
                  >
                    Update Details
                  </button>
                </tr>
              </table>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-container>
<!-- <ng-container *ngIf="false">
  <div
    class="d-flex justify-content-center align-items-center"
    style="height: 92.5vh"
  >
    <h2 class="gradienttext">
      <i
        class="fa-solid fa-arrow-left"
        style="
          box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
          padding: 3px;
          border-radius: 10px;
        "
        (click)="goBackClicked()"
      ></i>
    </h2>
    <form
      [formGroup]="reactiveForm"
      style="
        overflow-y: auto;
        max-height: 70vh;
        margin-left: 20px;
        margin-right: 20px;
        box-shadow: rgba(0, 0, 0, 0.1) 0px 4px 12px;
      "
      (ngSubmit)="onUpdateDetails()"
    >
      <mat-card style="width: 500px; border-radius: 14px">
        <mat-card-content>
          <mat-form-field class="example-full-width">
            <mat-label>First Name</mat-label>
            <input
              matInput
              placeholder="Type Duration in Mins"
              type="text"
              formControlName="firstname"
            />
          </mat-form-field>
          <mat-form-field class="example-full-width">
            <mat-label>Last Name</mat-label>
            <input
              matInput
              placeholder="Type Duration in Mins"
              type="text"
              formControlName="lastname"
            />
          </mat-form-field>
          <mat-form-field class="example-full-width">
            <mat-label>Email</mat-label>
            <input
              matInput
              placeholder="Type Duration in Mins"
              type="email"
              formControlName="email"
            />
          </mat-form-field>
          <mat-form-field class="example-full-width">
            <mat-label>Phone Number</mat-label>
            <input
              matInput
              placeholder="Type Duration in Mins"
              type="number"
              formControlName="phoneNo"
            />
          </mat-form-field>
        </mat-card-content>
        <button
          class="btn btn-primary"
          style="width: 95%; margin-left: 12px; margin-bottom: 8px"
          type="submit"
          [disabled]="
            reactiveForm.get('firstname').invalid ||
            reactiveForm.get('email').invalid ||
            reactiveForm.get('phoneNo').invalid
          "
        >
          Update Details
        </button>
      </mat-card>
    </form>
  </div>
</ng-container> -->
